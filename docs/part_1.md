## Rust 프로그램의 구조

```rust
fn main() {

}
```
이 줄은 Rust에서 함수를 정의합니다. 주요 기능은 특별합니다: 이것은 모든 실행 가능한 Rust 프로그램에서 항상 실행되는 첫 번째 코드입니다. 첫 번째 줄은 매개변수가 없고 아무것도 반환하지 않는 main이라는 함수를 선언합니다. 매개변수가 있는 경우 괄호() 안에 들어갈 것입니다.

또한 함수 본문은 중괄호 {}로 묶여 있습니다. Rust는 모든 함수 몸체 주위에 이것들을 요구합니다. 여는 중괄호를 함수 선언과 같은 줄에 놓고 그 사이에 공백을 하나 추가하는 것이 좋은 스타일입니다.

Rust 프로젝트 전체에서 표준 스타일을 고수하고 싶다면 Rustfmt라는 자동 포맷터 도구를 사용하여 특정 스타일로 코드를 포맷할 수 있습니다. Rust 팀은 Rustc와 같은 표준 Rust 배포판에 이 도구를 포함시켰으므로 컴퓨터에 이미 설치되어 있어야 합니다! 자세한 내용은 온라인 설명서를 확인하십시오. main 함수 내부에는 다음 코드가 있습니다.

```rust
fn main() {
    println!("Hello, world!");
}
```
이 줄은 이 작은 프로그램의 모든 작업을 수행합니다. 텍스트를 화면에 인쇄합니다. 여기에서 주목해야 할 네 가지 중요한 세부 사항이 있습니다. 

1. 첫째, Rust 스타일은 탭이 아닌 4개의 공백으로 들여쓰기하는 것입니다. 

2. 둘째, println! Rust 매크로를 호출합니다. 대신 함수를 호출하면 println으로 입력됩니다(! 없이). Rust 매크로에 대해서는 19장에서 더 자세히 논의할 것입니다. 지금은 ! 즉, 일반 함수 대신 매크로를 호출하고 매크로가 항상 함수와 동일한 규칙을 따르는 것은 아닙니다. 

3. 세 번째로 "Hello, world!"가 표시됩니다. 끈. 이 문자열을 println!에 인수로 전달하면 문자열이 화면에 인쇄됩니다. 

4. 넷째, 세미콜론(;)으로 줄을 끝냅니다. 이는 이 표현식이 끝났고 다음 표현식을 시작할 준비가 되었음을 나타냅니다. 대부분의 Rust 코드 라인은 세미콜론으로 끝납니다.


## 컴파일과 실행은 별개의 단계입니다

Rust 프로그램을 실행하기 전에 Rustc 명령을 입력하고 다음과 같이 소스 파일 이름을 전달하여 Rust 컴파일러를 사용하여 컴파일해야 합니다.

```bash
$ rustc main.rs
```

C 또는 C++ 배경 지식이 있는 경우 이것이 gcc 또는 clang과 유사하다는 것을 알 수 있습니다. 성공적으로 컴파일된 후, Rust는 바이너리 실행 파일을 출력합니다. 

Linux, macOS 및 Windows의 PowerShell에서는 셸에 ls 명령을 입력하여 실행 파일을 볼 수 있습니다. Linux 및 macOS에서는 두 개의 파일이 표시됩니다. 

Windows에서 PowerShell을 사용하면 CMD를 사용하여 볼 수 있는 것과 동일한 세 개의 파일이 표시됩니다

```bash
$ ls
main  main.rs
```

```cmd
> dir /B %= the /B option says to only show the file names =%
main.exe
main.pdb
main.rs
```

여기에는 확장자가 .rs인 소스 코드 파일, 실행 파일(Windows의 경우 main.exe, 다른 모든 플랫폼의 경우 main), Windows를 사용할 때 확장자가 .pdb인 디버깅 정보가 포함된 파일이 표시됩니다. 여기에서 다음과 같이 main 또는 main.exe 파일을 실행합니다.

```
$ ./main # or .\main.exe on Windows
```

main.rs가 "Hello, world!"라면 프로그램에서 이 줄은 Hello, world! 당신의 터미널에. Ruby, Python 또는 JavaScript와 같은 동적 언어에 더 익숙하다면 프로그램을 별도의 단계로 컴파일하고 실행하는 데 익숙하지 않을 수 있습니다. Rust는 미리 컴파일된 언어입니다. 즉, 프로그램을 컴파일하고 실행 파일을 다른 사람에게 줄 수 있으며, Rust를 설치하지 않고도 실행할 수 있습니다. 누군가에게 .rb, .py 또는 .js 파일을 제공하는 경우 Ruby, Python 또는 JavaScript 구현이 각각 설치되어 있어야 합니다. 그러나 이러한 언어에서는 프로그램을 컴파일하고 실행하는 데 하나의 명령만 있으면 됩니다. 모든 것은 언어 디자인에서 트레이드 오프입니다. 간단한 프로그램에서는 단순히 Rustc로 컴파일하는 것이 좋지만 프로젝트가 성장함에 따라 모든 옵션을 관리하고 코드를 쉽게 공유할 수 있기를 원할 것입니다. 다음으로, 실제 Rust 프로그램을 작성하는 데 도움이 되는 Cargo 도구를 소개하겠습니다.